@using com.Sconit.Web.Util
<script language="javascript" type="text/javascript" charset="utf-8">
@{
    if (ViewData[WebConstants.ErrorMessages] != null)
    {
        foreach (string errorMessage in (IList<string>)ViewData[WebConstants.ErrorMessages])
        {
            var errorMsg = errorMessage.Replace("\r", "");
            if (errorMsg.IndexOf("\n", System.StringComparison.Ordinal) > 0)
            {
                string[] msgs = errorMsg.Split(new string[] { "\n" }, StringSplitOptions.RemoveEmptyEntries);

                foreach (var msg in msgs)
                {
                    <text>
                    $message.error('@msg');
                    </text>
                }
            }
            else
            {   
            <text>
            $message.error('@errorMessage');
            </text>
            }
        }
        ViewData[WebConstants.ErrorMessages] = null;
    }

    if (ViewData[WebConstants.WarningMessages] != null)
    {
        foreach (string warningMessage in (IList<string>)ViewData[WebConstants.WarningMessages])
        {
            var warningMsg = warningMessage.Replace("\r", "");
            if (warningMsg.IndexOf("\n", System.StringComparison.Ordinal) > 0)
            {
                string[] msgs = warningMsg.Split(new string[] { "\n" }, StringSplitOptions.RemoveEmptyEntries);

                foreach (var msg in msgs)
                {
                    <text>
                    $message.error('@msg');
                    </text>
                }
            }
            else
            {
                <text>
            $message.warning('@warningMessage');
           </text>
            }
        }
        ViewData[WebConstants.WarningMessages] = null;
    }

    if (ViewData[WebConstants.SuccessMessages] != null)
    {
        foreach (string successMessage in (IList<string>)ViewData[WebConstants.SuccessMessages])
        {
            var successMsg = successMessage.Replace("\r", "");
            if (successMsg.IndexOf("\n", System.StringComparison.Ordinal) > 0)
            {
                string[] msgs = successMsg.Split(new string[] { "\n" }, StringSplitOptions.RemoveEmptyEntries);

                foreach (var msg in msgs)
                {
                    <text>
                    $message.error('@msg');
                    </text>
                }
            }
            else
            {
                <text>
            $message.success('@successMessage');
           </text>
            }
        }
        ViewData[WebConstants.SuccessMessages] = null;
    }
    }
</script>
