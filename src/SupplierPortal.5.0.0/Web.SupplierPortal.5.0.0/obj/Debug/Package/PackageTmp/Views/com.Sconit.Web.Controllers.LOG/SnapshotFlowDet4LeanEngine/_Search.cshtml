@using com.Sconit.Web.Models.SearchModels.LOG
<fieldset>
    @using (Html.BeginForm("List", "SnapshotFlowDet4LeanEngine"))
    {   
        <div class="search">
            
           @* <div class="search-label">
                <label for="OrderMaster_Flow">
                    @Resources.LOG.SnapshotFlowDet4LeanEngine.SnapshotFlowDet4LeanEngine_Flow
                </label>
            </div>
            <div class="search-field">
                @{
               Html.RenderAction("_FlowComboBox", "Common",
                   new
                   {
                       controlName = "Flow",
                       selectedValue = TempData["SnapshotFlowDet4LeanEngineSearchModel"] != null ? ((SnapshotFlowDet4LeanEngineSearchModel)TempData["SnapshotFlowDet4LeanEngineSearchModel"]).Flow : string.Empty
                   });
                }
            </div>*@
            <div class="search-label">
                <label for="OrderMaster_OrderNo">
                    @Resources.LOG.SnapshotFlowDet4LeanEngine.SnapshotFlowDet4LeanEngine_Item
                </label>
            </div>
            <div class="search-field">
                @{
               Html.RenderAction("_ItemComboBox", "Common",
                   new
                   {
                       controlName = "Item",
                       selectedValue = TempData["SnapshotFlowDet4LeanEngineSearchModel"] != null ? ((SnapshotFlowDet4LeanEngineSearchModel)TempData["SnapshotFlowDet4LeanEngineSearchModel"]).Item : string.Empty
                   });
                    
                }
            </div>
             <div class="search-label">
                <label for="OrderMaster_OrderNo">
                    @Resources.LOG.SnapshotFlowDet4LeanEngine.SnapshotFlowDet4LeanEngine_ErrorId
                </label>
            </div>
            <div class="search-field">
                @Html.TextBox("ErrorId", TempData["SnapshotFlowDet4LeanEngineSearchModel"] != null ? ((SnapshotFlowDet4LeanEngineSearchModel)TempData["SnapshotFlowDet4LeanEngineSearchModel"]).ErrorId : null)
            </div>
            <div class="search-label">
                <label for="OrderMaster_OrderNo">
                    @Resources.LOG.SnapshotFlowDet4LeanEngine.SnapshotFlowDet4LeanEngine_LocationFrom
                </label>
            </div>
            <div class="search-field">
                @{
               Html.RenderAction("_LocationComboBox", "Common",
                   new
                   {
                       controlName = "LocationFrom",
                       selectedValue = TempData["SnapshotFlowDet4LeanEngineSearchModel"] != null ? ((SnapshotFlowDet4LeanEngineSearchModel)TempData["SnapshotFlowDet4LeanEngineSearchModel"]).LocationFrom : string.Empty
                   });
                    
                }
            </div>
            <div class="search-label">
                <label for="OrderMaster_OrderNo">
                    @Resources.LOG.SnapshotFlowDet4LeanEngine.SnapshotFlowDet4LeanEngine_LocationTo
                </label>
            </div>
            <div class="search-field">
                @{
        Html.RenderAction("_LocationComboBox", "Common",
                   new
                   {
                       controlName = "LocationTo",
                       selectedValue = TempData["SnapshotFlowDet4LeanEngineSearchModel"] != null ? ((SnapshotFlowDet4LeanEngineSearchModel)TempData["SnapshotFlowDet4LeanEngineSearchModel"]).LocationTo : string.Empty
                   });
                    
                }
            </div>
           @*  <div class="search-label">
                <label for="OrderMaster_DateFrom">
                   创建日期 从
                </label>
            </div>
            <div class="search-field">
                @(Html.Telerik().DatePicker().Format(com.Sconit.Entity.BusinessConstants.SHORT_DATE_FORMAT)
            .Name("CreateDateFrom")
            .Value(TempData["SnapshotFlowDet4LeanEngineSearchModel"] != null ? ((SnapshotFlowDet4LeanEngineSearchModel)TempData["SnapshotFlowDet4LeanEngineSearchModel"]).CreateDateFrom : null)
                .HtmlAttributes(new { style = "margin-bottom: 1.3em;width:200px" }))
            </div>
            <div class="search-label">
                <label for="OrderMaster_DateTo">
                    至
                </label>
            </div>
            <div class="search-field">
                @(Html.Telerik().DatePicker().Format(com.Sconit.Entity.BusinessConstants.SHORT_DATE_FORMAT)
            .Name("CreateDateTo")
            .Value(TempData["SnapshotFlowDet4LeanEngineSearchModel"] != null ? ((SnapshotFlowDet4LeanEngineSearchModel)TempData["SnapshotFlowDet4LeanEngineSearchModel"]).CreateDateTo : null)
                .HtmlAttributes(new { style = "margin-bottom: 1.3em;width:200px" }))
            </div>*@
           
        </div>
        <div class="search-footer">
            @Html.Hidden("isFromList", true)
            <button type="submit" id="btnSearch">
                @Resources.Global.Button_Search</button>
            <button type="button" id="btnExport" onclick="doExportClick()">
                @Resources.Global.Button_Export</button>
        </div>
    }
</fieldset>
<script type="text/javascript">
//    function doExportClick() {
//        location.href = "/SnapshotFlowDet4LeanEngine/ExportInfo/?Flow=" + $('#Flow').val() + "&Item=" + $("#Item").val()
//        + "&LocationFrom=" + $("#LocationFrom").val() + "&LocationTo=" + $("#LocationTo").val()
//        + "&CreateDateFrom=" + $("#CreateDateFrom").val() + "&CreateDateTo=" + $("#CreateDateTo").val() + "&OrderNo=" + $("#OrderNo").val();
//    }
    function doExportClick() {
        location.href = "@Url.Content("~/SnapshotFlowDet4LeanEngine/ExportInfo/?ErrorId=")" + $('#ErrorId').val() + "&Item=" + $("#Item").val()
        + "&LocationFrom=" + $("#LocationFrom").val() + "&LocationTo=" + $("#LocationTo").val()
    }
</script>