@model com.Sconit.Entity.KB.KanbanCard
@{
    ViewBag.Title = "Index";
    Html.RenderAction("_SiteMapPath", "Common", new { MenuContent = "Url_KanbanCard_Kanban_View" });
}
@Html.Partial("_AjaxMessage")
<fieldset>
    <legend>@Resources.KB.KanbanCard.KanbanCard_Title_View</legend>
    <div class="search">
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_CardNo
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.CardNo)
            @Html.HiddenFor(model => model.CardNo)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_Flow
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.Flow)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_Supplier
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.Supplier)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_SupplierName
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.SupplierName)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_Region
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.Region)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_RegionName
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.RegionName)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_Item
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.Item)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_ItemDescription
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.ReferenceItemCode)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_ReferenceItemCode
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.ItemDescription)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_UnitCount
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.Container)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_OpRefSequence
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.OpRefSequence)
        </div>
          <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_Qty
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.Qty)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_UnitCountDescription
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.Container)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_LocBin
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.LocBin)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_TotalCount
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.TotalCount)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_EffectiveDate
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.EffectiveDate)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_NeedReprint
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.NeedReprint)
        </div>
        @* <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_PONo
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.PONo)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_Bin
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.LocBin)
        </div>
        <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_QiTiaoBian
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.QiTiaoBian)
        </div>*@ @*   <div class="search-label">
            <label>
                @Resources.KB.KanbanCard.KanbanCard_FreezeDate
            </label>
        </div>
        <div class="search-field">
            @Html.DisplayFor(model => model.FreezeDate)
        </div>*@
    </div>
</fieldset>
<div class="search-footer">
    @*<button type="button" id="btnDelete" onclick="DeleteKanban()">
        @Resources.Global.Button_Delete
    </button>
    <button type="button" id="btnPrint" onclick="PrintKanban()">
        @Resources.Global.Button_Print
    </button>
    <button type="button" id="btnRotate" onclick="RotateKanban()">
        @Resources.KB.KanbanCard.Button_Rotate
    </button>
    <button type="button" id="btnUpdate" onclick="SyncKanban()">
        @Resources.KB.KanbanCard.Button_SyncKanban
    </button>*@
    <button type="button" id="btnReturn" onclick="location.href='@Url.Content("~/KanbanCard/List")'">
        @Resources.Global.Button_Back
    </button>
</div>
<script type="text/javascript">

    function PrintKanban() {
        var data = {
            "cardNos": $('#CardNo').val()
        }
        $.ajax({
            type: "post",
            dataType: "text",
            url: "@Url.Content("~/KanbanCard/Print/")",
            data: data,
            success: function (data, textStatus) {
                if (data != "") {
                    PrintOrder(data);
                }
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                DisplayTextMessages(XMLHttpRequest.responseText);
            }
        });
        $.ajax({
            type: "post",
            dataType: "json",
            url: "@Url.Content("~/KanbanCard/PrintcardNos/")",
            data: data,
            success: function (data, textStatus) {
                if (data != "") {
                    PrintOrder(data);
                }
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                DisplayTextMessages(XMLHttpRequest.responseText);
            }
        });

    }

    function RotateKanban() {
        var data = {
            "CardNo": $('#CardNo').val()
        }
        $.ajax({
            type: "post",
            dataType: "json",
            url: "@Url.Content("~/KanbanCard/Rotate/")",
            data: data,
            cache: false,
            success: function (data, textStatus) {
                DisplayJsonMessages(data);
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                DisplayTextMessages(XMLHttpRequest.responseText);
            }
        });

    }

    function SyncKanban() {
        var data = {
            "CardNo": $('#CardNo').val()
        }
        $.ajax({
            type: "post",
            dataType: "Json",
            url: "@Url.Content("~/KanbanCard/SyncKanban/")",
            data: data,
            cache: false,
            success: function (data, textStatus) {
                DisplayJsonMessages(data);
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                DisplayTextMessages(XMLHttpRequest.responseText);
            }
        });

    }

    function DeleteKanban() {
        var data = {
            "CardNo": $('#CardNo').val()
        }
        $.ajax({
            type: "post",
            dataType: "json",
            url: "@Url.Content("~/KanbanCard/DeleteKanban/")",
            data: data,
            cache: false,
            success: function (data, textStatus) {
                DisplayJsonMessages(data);
                location.href("@Url.Content("~/KanbanCard/List/")");
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                DisplayTextMessages(XMLHttpRequest.responseText);
            }
        });

    }

  
</script>
